<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我要闖關「無痕去眼袋+涼感無痛除毛」2025主題月活動</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        .sakura-petal {
            position: absolute;
            width: 20px;
            height: 20px;
            background: rgba(255, 182, 193, 0.3);
            border-radius: 50% 0 50% 0;
            animation: fall linear infinite;
            z-index: 1;
        }
        
        @keyframes fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        .content-container {
            position: relative;
            z-index: 10;
        }
        
        .question-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 182, 193, 0.5);
            box-shadow: 0 8px 32px rgba(255, 182, 193, 0.3);
        }
        
        .option-btn {
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(255, 182, 193, 0.3);
        }
        
        .option-btn:hover,
        .option-btn:active {
            background: rgba(255, 182, 193, 0.2);
            transform: translateY(-2px);
        }
        
        @media (max-width: 640px) {
            .option-btn:hover {
                transform: none;
            }
            .option-btn:active {
                transform: scale(0.98);
            }
        }
        
        .correct {
            background: rgba(76, 175, 80, 0.2) !important;
            border-color: #4CAF50 !important;
        }
        
        .incorrect {
            background: rgba(244, 67, 54, 0.2) !important;
            border-color: #f44336 !important;
        }
        
        .firework {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            animation: firework 1s ease-out forwards;
        }
        
        @keyframes firework {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            100% {
                transform: scale(20);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <!-- 櫻花花瓣動畫 -->
    <div id="sakura-container"></div>
    
    <div class="content-container min-h-screen flex items-center justify-center p-4">
        <!-- 姓名輸入頁面 -->
        <div id="name-page" class="question-card rounded-3xl p-4 sm:p-8 max-w-md w-full text-center relative">
            <div class="absolute top-3 left-3 sm:top-4 sm:left-4 text-xs sm:text-sm text-pink-600 font-medium">2025主題月活動</div>
            <h1 class="text-2xl sm:text-3xl font-bold text-pink-800 mb-3 sm:mb-4 mt-6 sm:mt-0">我要闖關</h1>
            <h2 class="text-lg sm:text-xl font-semibold text-pink-700 mb-4 sm:mb-6 px-2">「無痕去眼袋+涼感無痛除毛」</h2>
            <div class="mb-4 sm:mb-6">
                <label class="block text-base sm:text-lg font-medium text-pink-700 mb-3">請輸入您的姓名：</label>
                <input type="text" id="user-name" class="w-full px-4 py-3 border-2 border-pink-300 rounded-xl focus:border-pink-500 focus:outline-none text-center text-base sm:text-lg" placeholder="請輸入姓名">
            </div>
            <button onclick="startChallenge()" class="w-full sm:w-auto bg-pink-500 active:bg-pink-600 text-white font-bold py-3 px-6 sm:px-8 rounded-xl transition-all duration-300 text-base sm:text-lg">
                開始闖關 🌸
            </button>
        </div>
        
        <!-- 影片觀看頁面 -->
        <div id="video-page" class="question-card rounded-3xl p-4 sm:p-8 max-w-md sm:max-w-2xl w-full text-center hidden">
            <h2 class="text-xl sm:text-2xl font-bold text-pink-800 mb-4 sm:mb-6">第一部分：觀看影片</h2>
            <div class="mb-4 sm:mb-6">
                <div class="bg-pink-50 border-2 border-pink-200 rounded-xl p-4 sm:p-6 mx-auto" style="max-width: 400px;">
                    <h3 class="text-base sm:text-lg font-bold text-pink-800 mb-4">林宏信醫師 - 眼袋真相</h3>
                    <div class="relative" style="aspect-ratio: 9/16; max-height: 500px;">
                        <iframe 
                            src="https://www.youtube.com/embed/_UZfN6zdBbQ?rel=0&modestbranding=1" 
                            title="林宏信醫師影片" 
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            allowfullscreen
                            class="w-full h-full rounded-lg">
                        </iframe>
                    </div>
                    <div class="mt-3">
                        <button onclick="openYouTubeVideo()" class="bg-red-500 active:bg-red-600 text-white font-bold py-2 px-4 rounded-lg transition-all duration-300 text-sm">
                            🎥 在YouTube中觀看
                        </button>
                    </div>
                    <p class="text-xs sm:text-sm text-pink-500 mt-3 text-center">觀看完畢後請點擊下方按鈕繼續</p>
                </div>
            </div>
            <p class="text-sm sm:text-base text-pink-700 mb-4">請觀看完整影片後進入測驗</p>
            <button onclick="startQuiz()" class="w-full sm:w-auto bg-pink-500 active:bg-pink-600 text-white font-bold py-3 px-6 sm:px-8 rounded-xl transition-all duration-300 text-sm sm:text-base">
                進入測驗 ✨
            </button>
        </div>
        

        
        <!-- 測驗頁面 -->
        <div id="quiz-page" class="question-card rounded-3xl p-4 sm:p-8 max-w-md sm:max-w-2xl w-full hidden">
            <div class="text-center mb-4 sm:mb-6">
                <h3 id="topic-title" class="text-lg sm:text-2xl font-bold text-pink-800 mb-2 px-2"></h3>
                <p id="question-counter" class="text-sm sm:text-base text-pink-600"></p>
            </div>
            
            <div id="question-content" class="mb-4 sm:mb-6">
                <h4 id="question-text" class="text-base sm:text-xl font-semibold text-pink-800 mb-4 px-2"></h4>
                <div id="options-container" class="space-y-3"></div>
            </div>
            
            <div id="answer-feedback" class="hidden mb-4 sm:mb-6 p-3 sm:p-4 rounded-xl">
                <p id="feedback-text" class="font-medium mb-2 text-sm sm:text-base"></p>
                <p id="explanation-text" class="text-xs sm:text-sm"></p>
            </div>
            
            <button id="next-btn" onclick="nextQuestion()" class="w-full bg-pink-500 active:bg-pink-600 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 hidden text-sm sm:text-base">
                下一題 →
            </button>
        </div>
        
        <!-- 結果頁面 -->
        <div id="result-page" class="question-card rounded-3xl p-4 sm:p-8 max-w-md w-full text-center hidden">
            <div id="fireworks-container" class="relative mb-4 sm:mb-6"></div>
            <h2 class="text-xl sm:text-2xl font-bold text-pink-800 mb-4 sm:mb-6">測驗結果</h2>
            <div class="bg-gradient-to-r from-pink-100 to-purple-100 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6">
                <p id="result-name" class="text-lg sm:text-xl font-bold text-pink-800 mb-2"></p>
                <p id="result-score" class="text-base sm:text-lg text-pink-700 mb-3 sm:mb-4"></p>
                <p id="result-message" class="text-sm sm:text-base text-pink-600 font-medium px-2">非常感謝您熱情參與，10題答對7題可進入下一關!!</p>
            </div>
            <button id="next-round-btn" onclick="nextRound()" class="w-full sm:w-auto bg-gradient-to-r from-pink-500 to-purple-500 active:from-pink-600 active:to-purple-600 text-white font-bold py-3 px-6 sm:px-8 rounded-xl transition-all duration-300 text-sm sm:text-base hidden">
                進入第二關 🎯
            </button>
            <button id="retry-btn" onclick="retryQuiz()" class="w-full sm:w-auto bg-gradient-to-r from-orange-500 to-red-500 active:from-orange-600 active:to-red-600 text-white font-bold py-3 px-6 sm:px-8 rounded-xl transition-all duration-300 text-sm sm:text-base hidden">
                重新測驗 🔄
            </button>
        </div>
        
        <!-- 第二關頁面 -->
        <div id="round2-page" class="question-card rounded-3xl p-8 max-w-2xl w-full text-center hidden">
            <h2 class="text-3xl font-bold text-pink-800 mb-4">第二關</h2>
            <h3 class="text-xl font-semibold text-purple-700 mb-6">眼周老化自我評估表</h3>
            <p class="text-2xl font-bold text-pink-600 mb-8">「你的眼睛比你還誠實?!」</p>
            <div class="bg-gradient-to-r from-pink-50 to-purple-50 rounded-xl p-6">
                <p class="text-lg text-pink-700">準備開始眼周老化評估...</p>
            </div>
        </div>
    </div>

    <script>
        let userName = '';
        let currentTopic = 0;
        let currentQuestion = 0;
        let scores = [0, 0]; // [topic1, topic2]
        let totalQuestions = [0, 0];
        
        const topics = [
            {
                title: "主題一：#眼袋小測驗｜懂眼袋不顯老！",
                questions: [
                    {
                        text: "💡【眼袋VS臥蠶】妳知道差在哪嗎？",
                        options: ["都是脂肪", "一個可愛一個顯老", "傳說中財庫"],
                        correct: 1,
                        explanation: "臥蠶是笑起來可愛的那團肉，眼袋是往下垂、讓人顯老又累的！妳分得清楚嗎？"
                    },
                    {
                        text: "🧊【眼袋手術會留疤嗎？】",
                        options: ["一定會", "視方式而定", "看運氣"],
                        correct: 1,
                        explanation: "【內開法】從眼內做手術✔️無疤痕，適合年輕族群；【外開法】有切口，適合皮膚鬆弛者。"
                    },
                    {
                        text: "❓【眼袋可以不動刀消掉嗎？】",
                        options: ["熬夜少點就好了", "用眼霜有用", "輕中度者可評估"],
                        correct: 2,
                        explanation: "有些人可以透過雷射或玻尿酸填補改善，但大多數中重度的眼袋還是建議手術處理效果最自然！"
                    },
                    {
                        text: "【眼袋手術最怕術後做什麼？】",
                        options: ["熬夜", "洗頭", "看電視"],
                        correct: 0,
                        explanation: "術後一週內應避免熬夜、低頭與劇烈運動，才能讓眼部順利癒合！"
                    },
                    {
                        text: "【眼袋明顯但皮膚緊實，適合哪種手術？】",
                        options: ["外開", "內開", "不需手術"],
                        correct: 1,
                        explanation: "年輕人脂肪膨出、但皮膚沒鬆弛，內開法無疤痕、效果佳、恢復快！"
                    }
                ]
            },
            {
                title: "主題二：#除毛真相QA｜輕鬆無痛做女神！",
                questions: [
                    {
                        text: "🌿【除毛前要怎麼準備？】",
                        options: ["當天去剃", "前一天剃", "不要剃"],
                        correct: 1,
                        explanation: "前一天剃毛剛剛好，毛根還在才抓得到～別當天剃喔，皮膚可能還紅紅的！"
                    },
                    {
                        text: "【做一次除毛後毛會立刻不見？】",
                        options: ["會", "不會，要等掉", "永遠不會掉"],
                        correct: 1,
                        explanation: "毛髮會在7～14天內慢慢脫落，請耐心等待光滑現身～"
                    },
                    {
                        text: "【為什麼繆斯女神除毛不痛？】",
                        options: ["機器溫柔", "有涼感冷卻技術", "輕輕掃過沒感覺"],
                        correct: 1,
                        explanation: "【方思云主任】女醫師操作細心溫柔加上人工藍寶石冷卻探頭，溫度控制在15℃，極舒適！"
                    },
                    {
                        text: "【男生能不能做雷射除毛？】",
                        options: ["當然可以，但私密處除外。", "不行", "會變女生"],
                        correct: 0,
                        explanation: "當然可以！越來越多男生選擇臉部、胸部、鬍鬚除毛！"
                    },
                    {
                        text: "【完整除毛療程需要做幾次？】",
                        options: ["1次", "2次", "約4～6次"],
                        correct: 2,
                        explanation: "毛髮有「生長期、退化期、休止期、脫落期」，4個不同週期循環，要打在對的時間才會「根」治乾淨唷～"
                    }
                ]
            }
        ];
        
        // 創建櫻花花瓣
        function createSakuraPetals() {
            const container = document.getElementById('sakura-container');
            for (let i = 0; i < 15; i++) {
                const petal = document.createElement('div');
                petal.className = 'sakura-petal';
                petal.style.left = Math.random() * 100 + '%';
                petal.style.animationDuration = (Math.random() * 3 + 2) + 's';
                petal.style.animationDelay = Math.random() * 2 + 's';
                container.appendChild(petal);
            }
        }
        
        function startChallenge() {
            const nameInput = document.getElementById('user-name');
            if (!nameInput.value.trim()) {
                alert('請輸入您的姓名！');
                return;
            }
            userName = nameInput.value.trim();
            showPage('video-page');
        }
        
        function startQuiz() {
            startTopic(1);
        }
        
        function startTopic(topicIndex) {
            currentTopic = topicIndex - 1;
            currentQuestion = 0;
            totalQuestions[currentTopic] = topics[currentTopic].questions.length;
            showQuestion();
            showPage('quiz-page');
        }
        
        function showQuestion() {
            const topic = topics[currentTopic];
            const question = topic.questions[currentQuestion];
            
            document.getElementById('topic-title').textContent = topic.title;
            document.getElementById('question-counter').textContent = `第 ${currentQuestion + 1} 題 / 共 ${topic.questions.length} 題`;
            document.getElementById('question-text').textContent = question.text;
            
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-btn w-full p-3 sm:p-4 rounded-xl text-left font-medium text-sm sm:text-base';
                button.textContent = `${String.fromCharCode(65 + index)}. ${option}`;
                button.onclick = () => selectAnswer(index);
                optionsContainer.appendChild(button);
            });
            
            document.getElementById('answer-feedback').classList.add('hidden');
            document.getElementById('next-btn').classList.add('hidden');
        }
        
        function selectAnswer(selectedIndex) {
            const question = topics[currentTopic].questions[currentQuestion];
            const options = document.querySelectorAll('.option-btn');
            
            options.forEach((btn, index) => {
                btn.disabled = true;
                if (index === question.correct) {
                    btn.classList.add('correct');
                } else if (index === selectedIndex && index !== question.correct) {
                    btn.classList.add('incorrect');
                }
            });
            
            const isCorrect = selectedIndex === question.correct;
            if (isCorrect) {
                scores[currentTopic]++;
            }
            
            const feedback = document.getElementById('answer-feedback');
            const feedbackText = document.getElementById('feedback-text');
            const explanationText = document.getElementById('explanation-text');
            
            feedbackText.textContent = isCorrect ? '✅ 答對了！' : '❌ 答錯了！';
            feedbackText.className = isCorrect ? 'font-medium mb-2 text-green-600' : 'font-medium mb-2 text-red-600';
            explanationText.textContent = `💬 ${question.explanation}`;
            
            feedback.classList.remove('hidden');
            document.getElementById('next-btn').classList.remove('hidden');
        }
        
        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion < topics[currentTopic].questions.length) {
                showQuestion();
            } else {
                // 檢查是否完成兩個主題
                if (currentTopic === 0) {
                    // 完成第一個主題，開始第二個主題
                    startTopic(2);
                } else {
                    // 完成所有主題，顯示結果
                    showResults();
                }
            }
        }
        
        function showResults() {
            const totalScore = scores[0] + scores[1];
            const totalQuestions = topics[0].questions.length + topics[1].questions.length;
            
            document.getElementById('result-name').textContent = userName;
            document.getElementById('result-score').textContent = `答對 ${totalScore} 題 / 共 ${totalQuestions} 題`;
            
            // 根據分數顯示不同的按鈕和訊息
            const nextButton = document.getElementById('next-round-btn');
            const retryButton = document.getElementById('retry-btn');
            const resultMessage = document.getElementById('result-message');
            
            if (totalScore >= 7) {
                // 答對7題以上，可以進入下一關
                nextButton.classList.remove('hidden');
                retryButton.classList.add('hidden');
                resultMessage.textContent = '非常感謝您熱情參與，10題答對7題可進入下一關!!';
                // 如果全部答對，顯示煙火
                if (totalScore === totalQuestions) {
                    createFireworks();
                }
            } else {
                // 答對不足7題，顯示重新測驗按鈕
                nextButton.classList.add('hidden');
                retryButton.classList.remove('hidden');
                resultMessage.textContent = '只差一點點了 加油! 再試一次!!';
            }
            
            showPage('result-page');
        }
        
        function createFireworks() {
            const container = document.getElementById('fireworks-container');
            const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#ffeaa7'];
            
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const firework = document.createElement('div');
                    firework.className = 'firework';
                    firework.style.background = colors[Math.floor(Math.random() * colors.length)];
                    firework.style.left = Math.random() * 100 + '%';
                    firework.style.top = Math.random() * 100 + '%';
                    container.appendChild(firework);
                    
                    setTimeout(() => {
                        firework.remove();
                    }, 1000);
                }, i * 100);
            }
        }
        

        
        function openYouTubeVideo() {
            const youtubeUrl = 'https://www.youtube.com/shorts/_UZfN6zdBbQ?feature=share';
            
            // 嘗試在新視窗開啟YouTube
            try {
                const newWindow = window.open(youtubeUrl, '_blank', 'width=800,height=600,scrollbars=yes,resizable=yes');
                if (!newWindow || newWindow.closed || typeof newWindow.closed == 'undefined') {
                    // 如果彈出視窗被阻擋，直接跳轉
                    window.location.href = youtubeUrl;
                }
            } catch (e) {
                // 備用方案：直接跳轉
                window.location.href = youtubeUrl;
            }
        }
        
        function retryQuiz() {
            // 重置分數
            scores = [0, 0];
            currentTopic = 0;
            currentQuestion = 0;
            
            // 重新開始第一個主題
            startTopic(1);
        }
        
        function nextRound() {
            showPage('round2-page');
        }
        
        function showPage(pageId) {
            const pages = ['name-page', 'video-page', 'quiz-page', 'result-page', 'round2-page'];
            pages.forEach(id => {
                document.getElementById(id).classList.add('hidden');
            });
            document.getElementById(pageId).classList.remove('hidden');
        }
        
        // 初始化
        createSakuraPetals();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96bf9495d0b9843a',t:'MTc1NDY2MjA1MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>